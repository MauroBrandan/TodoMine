{"version":3,"sources":["components/Header.jsx","components/Counter.jsx","components/Search.jsx","components/TodoList.jsx","components/TodoItem.jsx","components/CreateTodoButton.jsx","components/Modal.jsx","components/TodoForm.jsx","components/UserForm.jsx","components/TodosError.jsx","components/TodosLoading.jsx","components/EmptyTodos.jsx","components/EmptySearchResults.jsx","hooks/useStorageListener.js","components/ChangeAlert.jsx","hooks/useLocalStorage.js","hooks/useTodos.js","App.js","index.js"],"names":["Header","Counter","totalTodos","completedTodos","user","loading","className","Search","searchValue","setSearchValue","type","placeholder","value","onChange","event","target","disabled","TodoList","props","error","onError","onLoading","onEmptyTodos","searchedTodos","length","onEmptySearchResults","map","todo","render","TodoItem","text","completed","onComplete","onDelete","onClick","CreateTodoButton","setOpenModal","Modal","children","ReactDOM","createPortal","document","getElementById","TodoForm","addTodo","useState","todoValue","setTodoValue","onSubmit","preventDefault","maxLength","UserForm","addUser","userValue","setUserValue","console","log","TodosError","TodosLoading","EmptyTodos","style","fontSize","EmptySearchResults","searchText","color","useStorageListener","sincronize","storageChange","setStorageChange","useEffect","change","key","window","addEventListener","removeEventListener","show","toggleShow","ChangeAlert","useLocalStorage","itemName","initialValue","sincronizedItem","setSincronizedItem","setError","setLoading","item","setItem","setTimeout","parsedItem","localStorageItem","localStorage","getItem","JSON","parse","stringify","saveItem","newItem","stringifiedItem","sincronizeItem","useTodos","todos","setTodos","sincronizeTodos","setUser","loadingUser","openModal","filter","toLowerCase","includes","toLocaleLowerCase","newTodos","push","id","Math","random","toString","substr","completeTodo","todoIndex","findIndex","deleteTodo","splice","App"],"mappings":"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","file":"static/js/main.6467a1af.chunk.js","sourcesContent":["import React from 'react'\n\nimport './styles/Header.css'\n\nfunction Header() {\n\treturn (\n\t\t<header>\n\t\t\t<h1>\n\t\t\t\tTODO <span>MINE</span>\n\t\t\t</h1>\n\t\t</header>\n\t)\n}\n\nexport default Header\n","import React from 'react'\n\nimport './styles/Counter.css'\n\nfunction Counter({ totalTodos, completedTodos, user, loading }) {\n\treturn (\n\t\t<h2 className={`Counter ${loading && 'Counter--disabled'}`}>\n\t\t\t¡Hola {user}! <br />\n\t\t\tHoy has completado {completedTodos} de {totalTodos} ToDo's\n\t\t</h2>\n\t)\n}\n\nexport default Counter\n","import React from 'react'\n\nimport './styles/Search.css'\n\nfunction Search({ searchValue, setSearchValue, loading }) {\n\tconst onChangeSearchValue = (event) => {\n\t\tsetSearchValue(event.target.value)\n\t}\n\n\treturn (\n\t\t<input\n\t\t\tclassName='Search'\n\t\t\ttype='text'\n\t\t\tplaceholder='Buscar tarea'\n\t\t\tvalue={searchValue}\n\t\t\tonChange={onChangeSearchValue}\n\t\t\tdisabled={loading}\n\t\t/>\n\t)\n}\n\nexport default Search\n","import React from 'react'\n\nimport './styles/TodoList.css'\n\nfunction TodoList(props) {\n\treturn (\n\t\t<>\n\t\t\t{props.error && props.onError()}\n\t\t\t{props.loading && props.onLoading()}\n\n\t\t\t{!props.loading && !props.totalTodos && props.onEmptyTodos()}\n\n\t\t\t{!!props.totalTodos && !props.searchedTodos.length && props.onEmptySearchResults()}\n\t\t\t\n\t\t\t<ul>{!props.loading && !props.error && props.searchedTodos.map((todo) => props.render(todo))}</ul>\n\t\t</>\n\t)\n}\n\nexport default TodoList\n","import React from 'react'\n\nimport './styles/TodoItem.css'\n\nfunction TodoItem({ text, completed, onComplete, onDelete }) {\n\treturn (\n\t\t<li className='TodoItem'>\n\t\t\t<span\n\t\t\t\tclassName={`Icon Icon-check ${completed && 'Icon-check--active'}`}\n\t\t\t\tonClick={onComplete}\n\t\t\t>\n\t\t\t\tᄼ\n\t\t\t</span>\n\t\t\t<p className={`TodoItem-p ${completed && 'TodoItem-p--complete'}`}>{text}</p>\n\t\t\t<span className='Icon Icon-delete' onClick={onDelete}>\n\t\t\t\tX\n\t\t\t</span>\n\t\t</li>\n\t)\n}\n\nexport default TodoItem\n","import React from 'react'\n\nimport './styles/CreateTodoButton.css'\n\nfunction CreateTodoButton({ setOpenModal }) {\n\tconst handleClick = () => {\n\t\tsetOpenModal(true)\n\t}\n\n\treturn (\n\t\t<button onClick={handleClick} className='CreateTodoButton'>\n\t\t\t+\n\t\t</button>\n\t)\n}\n\nexport default CreateTodoButton\n","import ReactDOM from 'react-dom'\n\nimport './styles/Modal.css'\n\nfunction Modal({ children }) {\n\treturn ReactDOM.createPortal(\n\t\t<div className='modal'>{children}</div>,\n\t\tdocument.getElementById('modal')\n\t)\n}\n\nexport default Modal\n","import React, { useState } from 'react'\n\nimport './styles/TodoForm.css'\n\nfunction TodoForm({ setOpenModal, addTodo }) {\n\tconst [todoValue, setTodoValue] = useState('')\n\n\tconst onChangeTextValue = (event) => {\n\t\tsetTodoValue(event.target.value)\n\t}\n\n\tconst onSubmitTodo = (event) => {\n\t\tevent.preventDefault()\n\t\tif (todoValue.length > 0) {\n\t\t\taddTodo(todoValue)\n\t\t}\n\t\tsetOpenModal(false)\n\t}\n\n\tconst onCancel = () => {\n\t\tsetOpenModal(false)\n\t}\n\n\treturn (\n\t\t<form onSubmit={onSubmitTodo} className='TodoForm'>\n\t\t\t<label>Escribe tu nuevo To Do</label>\n\t\t\t<textarea\n\t\t\t\tplaceholder='Tu tarea'\n\t\t\t\tmaxLength='55'\n\t\t\t\tonChange={onChangeTextValue}\n\t\t\t\tvalue={todoValue}\n\t\t\t/>\n\t\t\t<div className='TodoForm__buttonContainer'>\n\t\t\t\t<button\n\t\t\t\t\tclassName='TodoForm__button TodoForm__button--cancel'\n\t\t\t\t\ttype='button'\n\t\t\t\t\tonClick={onCancel}\n\t\t\t\t>\n\t\t\t\t\tCancelar\n\t\t\t\t</button>\n\t\t\t\t<button className='TodoForm__button TodoForm__button--add' type='submit'>\n\t\t\t\t\tAñadir\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</form>\n\t)\n}\n\nexport default TodoForm\n","import React, { useState } from 'react'\n\nimport './styles/UserForm.css'\n\nfunction UserForm({ setOpenModal, addUser }) {\n\tconst [userValue, setUserValue] = useState('')\n\n\tconst onChangeInputValue = (event) => {\n\t\tsetUserValue(event.target.value)\n\t}\n\n\tconst onSubmitUser = (event) => {\n\t\tevent.preventDefault()\n\t\tconsole.log(`Hola ${userValue}`)\n\t\tif (userValue.length > 0) {\n\t\t\taddUser(userValue)\n\t\t\tsetOpenModal(false)\n\t\t}\n\t}\n\n\treturn (\n\t\t<form className='UserForm' onSubmit={onSubmitUser}>\n\t\t\t<h2>\n\t\t\t\t¡Hola! <br /> Bienvenido a Todo Mine\n\t\t\t</h2>\n\t\t\t<p>Tu app para organizar tus tareas del día a día</p>\n\t\t\t<label>¿Como te llamas?</label>\n\t\t\t<input\n\t\t\t\ttype='text'\n\t\t\t\tplaceholder='Tu nombre'\n\t\t\t\tmaxLength='13'\n\t\t\t\tvalue={userValue}\n\t\t\t\tonChange={onChangeInputValue}\n\t\t\t/>\n\t\t\t<button className='UserForm__button' type='submit'>\n\t\t\t\t¡Empecemos!\n\t\t\t</button>\n\t\t</form>\n\t)\n}\n\nexport default UserForm\n","import React from 'react'\n\nfunction TodosError() {\n\treturn <p>Hubo un error...</p>\n}\n\nexport default TodosError\n","import React from 'react'\nimport './styles/TodosLoading.css'\n\nfunction TodosLoading() {\n\treturn (\n\t\t<div className='LoadingTodo-container'>\n\t\t\t<span className='LoadingTodo-completeIcon'></span>\n\t\t\t<p className='LoadingTodo-text'>Cargando TODOs</p>\n\t\t\t<span className='LoadingTodo-deleteIcon'></span>\n\t\t</div>\n\t)\n}\n\nexport default TodosLoading\n","import React from 'react'\n\nfunction EmptyTodos() {\n\treturn <p style={{ fontSize: '1.5rem' }}>¡Crea tu primer TODO!</p>\n}\n\nexport default EmptyTodos\n","import React from 'react'\n\nfunction EmptySearchResults({ searchText }) {\n\treturn (\n\t\t<div>\n\t\t\t<p style={{ fontSize: '1.5rem' }}>\n\t\t\t\tNo hay resultados para <span style={{ color: 'white' }}>{searchText} </span>\n\t\t\t</p>\n\t\t</div>\n\t)\n}\n\nexport default EmptySearchResults\n","import { useState, useEffect } from 'react'\n\nfunction useStorageListener(sincronize) {\n\tconst [storageChange, setStorageChange] = useState(false)\n\n\tuseEffect(() => {\n\t\tconst onChange = (change) => {\n\t\t\tif (change.key === 'TODOS_V1') {\n\t\t\t\tsetStorageChange(true)\n\t\t\t}\n\t\t}\n\n\t\twindow.addEventListener('storage', onChange)\n\n\t\treturn () => window.removeEventListener('storage', onChange)\n\t}, [])\n\n\tconst toggleShow = () => {\n\t\tsincronize()\n\t\tsetStorageChange(false)\n\t}\n\n\treturn {\n\t\tshow: storageChange,\n\t\ttoggleShow,\n\t}\n}\n\nexport default useStorageListener\n","import React from 'react'\nimport useStorageListener from '../hooks/useStorageListener'\n\nimport './styles/ChangeAlert.css'\n\nfunction ChangeAlert({ sincronize }) {\n\tconst { show, toggleShow } = useStorageListener(sincronize)\n\n\tif (show) {\n\t\treturn (\n\t\t\t<div className='ChangeAlert-bg'>\n\t\t\t\t<div className='ChangeAlert'>\n\t\t\t\t\t<p>\n\t\t\t\t\t\tParece que cambiaste tus ToDo's en otra pestaña o ventana del navegador.\n\t\t\t\t\t</p>\n\t\t\t\t\t<p>¿Quieres sincronizar tus ToDo's?</p>\n\t\t\t\t\t<button onClick={toggleShow}>Volver a cargar la información</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t)\n\t} else {\n\t\treturn null\n\t}\n}\n\nexport default ChangeAlert\n","import { useState, useEffect } from 'react'\n\nfunction useLocalStorage(itemName, initialValue) {\n\tconst [sincronizedItem, setSincronizedItem] = useState(true)\n\tconst [error, setError] = useState(false)\n\tconst [loading, setLoading] = useState(true)\n\tconst [item, setItem] = useState(initialValue)\n\n\t// setTimeout para simular una peticion a base de datos\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\ttry {\n\t\t\t\tconst localStorageItem = localStorage.getItem(itemName)\n\t\t\t\tlet parsedItem\n\n\t\t\t\tif (!localStorageItem) {\n\t\t\t\t\tlocalStorage.setItem(itemName, JSON.stringify(initialValue))\n\t\t\t\t\tparsedItem = initialValue\n\t\t\t\t} else {\n\t\t\t\t\tparsedItem = JSON.parse(localStorageItem)\n\t\t\t\t}\n\n\t\t\t\tsetItem(parsedItem)\n\t\t\t\tsetLoading(false)\n\t\t\t\tsetSincronizedItem(true)\n\t\t\t} catch (error) {\n\t\t\t\tsetError(error)\n\t\t\t}\n\t\t}, 1000)\n\t\t// eslint-disable-next-line\n\t}, [sincronizedItem])\n\n\tconst saveItem = (newItem) => {\n\t\ttry {\n\t\t\tconst stringifiedItem = JSON.stringify(newItem)\n\t\t\tlocalStorage.setItem(itemName, stringifiedItem)\n\t\t\tsetItem(newItem)\n\t\t} catch (error) {\n\t\t\tsetError(error)\n\t\t}\n\t}\n\n\tconst sincronizeItem = () => {\n\t\tsetLoading(true)\n\t\tsetSincronizedItem(false)\n\t}\n\n\treturn {\n\t\titem,\n\t\tsaveItem,\n\t\tloading,\n\t\terror,\n\t\tsincronizeItem,\n\t}\n}\n\nexport default useLocalStorage\n","import { useState, useEffect } from 'react'\nimport useLocalStorage from './useLocalStorage'\n\nfunction useTodos() {\n\tconst {\n\t\titem: todos,\n\t\tsaveItem: setTodos,\n\t\tsincronizeItem: sincronizeTodos,\n\t\tloading,\n\t\terror,\n\t} = useLocalStorage('TODOS_V1', [])\n\tconst {\n\t\titem: user,\n\t\tsaveItem: setUser,\n\t\tloading: loadingUser,\n\t} = useLocalStorage('USER_V1', '')\n\tconst [searchValue, setSearchValue] = useState('')\n\tconst [openModal, setOpenModal] = useState(false)\n\n\tconst totalTodos = todos.length\n\tconst completedTodos = todos.filter((todo) => todo.completed).length\n\n\tconst searchedTodos = todos.filter((todo) =>\n\t\ttodo.text.toLowerCase().includes(searchValue.toLocaleLowerCase())\n\t)\n\n\tconst addTodo = (text) => {\n\t\tconst newTodos = [...todos]\n\t\tnewTodos.push({\n\t\t\tcompleted: false,\n\t\t\ttext,\n\t\t\tid: Math.random().toString(35).substr(2, 13),\n\t\t})\n\t\tsetTodos(newTodos)\n\t}\n\n\tconst completeTodo = (id) => {\n\t\tconst todoIndex = todos.findIndex((todo) => todo.id === id)\n\n\t\tconst newTodos = [...todos]\n\t\tnewTodos[todoIndex].completed = !newTodos[todoIndex].completed\n\t\tsetTodos(newTodos)\n\t}\n\n\tconst deleteTodo = (id) => {\n\t\tconst todoIndex = todos.findIndex((todo) => todo.id === id)\n\n\t\tconst newTodos = [...todos]\n\t\tnewTodos.splice(todoIndex, 1)\n\t\tsetTodos(newTodos)\n\t}\n\n\t// eslint-disable-next-line\n\tuseEffect(() => !loadingUser && !user && setOpenModal(true), [])\n\n\tconst addUser = (user) => {\n\t\tsetUser(user)\n\t}\n\n\treturn {\n\t\terror,\n\t\tloading,\n\t\ttotalTodos,\n\t\tcompletedTodos,\n\t\tsearchValue,\n\t\tsetSearchValue,\n\t\tsearchedTodos,\n\t\topenModal,\n\t\tsetOpenModal,\n\t\taddTodo,\n\t\tcompleteTodo,\n\t\tdeleteTodo,\n\t\tuser,\n\t\taddUser,\n\t\tsincronizeTodos,\n\t}\n}\n\nexport default useTodos\n","import React from 'react'\nimport Header from './components/Header'\nimport Counter from './components/Counter'\nimport Search from './components/Search'\nimport TodoList from './components/TodoList'\nimport TodoItem from './components/TodoItem'\nimport CreateTodoButton from './components/CreateTodoButton'\nimport Modal from './components/Modal'\nimport TodoForm from './components/TodoForm'\nimport UserForm from './components/UserForm'\nimport TodosError from './components/TodosError'\nimport TodosLoading from './components/TodosLoading'\nimport EmptyTodos from './components/EmptyTodos'\nimport EmptySearchResults from './components/EmptySearchResults'\nimport ChangeAlert from './components/ChangeAlert'\nimport useTodos from './hooks/useTodos'\n\nfunction App() {\n\tconst {\n\t\terror,\n\t\tloading,\n\t\ttotalTodos,\n\t\tcompletedTodos,\n\t\tsearchValue,\n\t\tsetSearchValue,\n\t\tsearchedTodos,\n\t\tcompleteTodo,\n\t\tdeleteTodo,\n\t\topenModal,\n\t\tsetOpenModal,\n\t\tuser,\n\t\taddUser,\n\t\taddTodo,\n\t\tsincronizeTodos,\n\t} = useTodos()\n\n\treturn (\n\t\t<>\n\t\t\t<Header />\n\t\t\t<Counter\n\t\t\t\ttotalTodos={totalTodos}\n\t\t\t\tcompletedTodos={completedTodos}\n\t\t\t\tuser={user}\n\t\t\t\tloading={loading}\n\t\t\t/>\n\t\t\t<Search\n\t\t\t\tsearchValue={searchValue}\n\t\t\t\tsetSearchValue={setSearchValue}\n\t\t\t\tloading={loading}\n\t\t\t/>\n\n\t\t\t<TodoList\n\t\t\t\terror={error}\n\t\t\t\tloading={loading}\n\t\t\t\ttotalTodos={totalTodos}\n\t\t\t\tsearchedTodos={searchedTodos}\n\t\t\t\tonError={() => <TodosError />}\n\t\t\t\tonLoading={() => <TodosLoading />}\n\t\t\t\tonEmptyTodos={() => <EmptyTodos />}\n\t\t\t\tonEmptySearchResults={() => <EmptySearchResults searchText={searchValue} />}\n\t\t\t\trender={(todo) => (\n\t\t\t\t\t<TodoItem\n\t\t\t\t\t\tkey={todo.id}\n\t\t\t\t\t\ttext={todo.text}\n\t\t\t\t\t\tcompleted={todo.completed}\n\t\t\t\t\t\tonComplete={() => completeTodo(todo.id)}\n\t\t\t\t\t\tonDelete={() => deleteTodo(todo.id)}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t/>\n\n\t\t\t<CreateTodoButton setOpenModal={setOpenModal} />\n\n\t\t\t{!loading && !user && openModal && (\n\t\t\t\t<Modal>\n\t\t\t\t\t<UserForm setOpenModal={setOpenModal} addUser={addUser} />\n\t\t\t\t</Modal>\n\t\t\t)}\n\n\t\t\t{user && openModal && (\n\t\t\t\t<Modal>\n\t\t\t\t\t<TodoForm setOpenModal={setOpenModal} addTodo={addTodo} />\n\t\t\t\t</Modal>\n\t\t\t)}\n\n\t\t\t<ChangeAlert sincronize={sincronizeTodos} />\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}