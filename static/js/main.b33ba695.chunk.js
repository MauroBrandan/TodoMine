(this["webpackJsonptodo-mine"]=this["webpackJsonptodo-mine"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o=n(1),r=n(6),c=n.n(r),a=(n(14),n(0));var s=function(){return Object(a.jsx)("header",{children:Object(a.jsxs)("h1",{children:["TODO ",Object(a.jsx)("span",{children:"MINE"})]})})};n(16);var i=function(e){var t=e.totalTodos,n=e.completedTodos,o=e.user,r=e.loading;return Object(a.jsxs)("h2",{className:"Counter ".concat(r&&"Counter--disabled"),children:["\xa1Hola ",o,"! ",Object(a.jsx)("br",{}),"Hoy has completado ",n," de ",t," ToDo's"]})};n(17);var d=function(e){var t=e.searchValue,n=e.setSearchValue,o=e.loading;return Object(a.jsx)("input",{className:"Search",type:"text",placeholder:"Buscar tarea",value:t,onChange:function(e){n(e.target.value)},disabled:o})};n(18);var l=function(e){return Object(a.jsxs)(a.Fragment,{children:[e.error&&e.onError(),e.loading&&e.onLoading(),!e.loading&&!e.totalTodos&&e.onEmptyTodos(),!!e.totalTodos&&!e.searchedTodos.length&&e.onEmptySearchResults(),Object(a.jsx)("ul",{children:!e.loading&&!e.error&&e.searchedTodos.map((function(t){return e.render(t)}))})]})};n(19);var u=function(e){var t=e.text,n=e.completed,o=e.onComplete,r=e.onDelete;return Object(a.jsxs)("li",{className:"TodoItem",children:[Object(a.jsx)("span",{className:"Icon Icon-check ".concat(n&&"Icon-check--active"),onClick:o,children:"\u113c"}),Object(a.jsx)("p",{className:"TodoItem-p ".concat(n&&"TodoItem-p--complete"),children:t}),Object(a.jsx)("span",{className:"Icon Icon-delete",onClick:r,children:"X"})]})};n(20);var j=function(e){var t=e.setOpenModal;return Object(a.jsx)("button",{onClick:function(){t(!0)},className:"CreateTodoButton",children:"+"})};n(21);var b=function(e){var t=e.children;return c.a.createPortal(Object(a.jsx)("div",{className:"modal",children:t}),document.getElementById("modal"))},O=n(2);n(22);var m=function(e){var t=e.setOpenModal,n=e.addTodo,r=Object(o.useState)(""),c=Object(O.a)(r,2),s=c[0],i=c[1];return Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),s.length>0&&n(s),t(!1)},className:"TodoForm",children:[Object(a.jsx)("label",{children:"Escribe tu nuevo To Do"}),Object(a.jsx)("textarea",{placeholder:"Tu tarea",maxLength:"55",onChange:function(e){i(e.target.value)},value:s}),Object(a.jsxs)("div",{className:"TodoForm__buttonContainer",children:[Object(a.jsx)("button",{className:"TodoForm__button TodoForm__button--cancel",type:"button",onClick:function(){t(!1)},children:"Cancelar"}),Object(a.jsx)("button",{className:"TodoForm__button TodoForm__button--add",type:"submit",children:"A\xf1adir"})]})]})};n(23);var h=function(e){var t=e.setOpenModal,n=e.addUser,r=Object(o.useState)(""),c=Object(O.a)(r,2),s=c[0],i=c[1];return Object(a.jsxs)("form",{className:"UserForm",onSubmit:function(e){e.preventDefault(),console.log("Hola ".concat(s)),s.length>0&&(n(s),t(!1))},children:[Object(a.jsxs)("h2",{children:["\xa1Hola! ",Object(a.jsx)("br",{})," Bienvenido a Todo Mine"]}),Object(a.jsx)("p",{children:"Tu app para organizar tus tareas del d\xeda a d\xeda"}),Object(a.jsx)("label",{children:"\xbfComo te llamas?"}),Object(a.jsx)("input",{type:"text",placeholder:"Tu nombre",maxLength:"13",value:s,onChange:function(e){i(e.target.value)}}),Object(a.jsx)("button",{className:"UserForm__button",type:"submit",children:"\xa1Empecemos!"})]})};var f=function(){return Object(a.jsx)("p",{children:"Hubo un error..."})};n(24);var p=function(){return Object(a.jsxs)("div",{className:"LoadingTodo-container",children:[Object(a.jsx)("span",{className:"LoadingTodo-completeIcon"}),Object(a.jsx)("p",{className:"LoadingTodo-text",children:"Cargando TODOs"}),Object(a.jsx)("span",{className:"LoadingTodo-deleteIcon"})]})};var x=function(){return Object(a.jsx)("p",{style:{fontSize:"1.5rem"},children:"\xa1Crea tu primer TODO!"})};var v=function(e){var t=e.searchText;return Object(a.jsx)("div",{children:Object(a.jsxs)("p",{style:{fontSize:"1.5rem"},children:["No hay resultados para ",Object(a.jsxs)("span",{style:{color:"white"},children:[t," "]})]})})};var g=function(e){var t=Object(o.useState)(!1),n=Object(O.a)(t,2),r=n[0],c=n[1];return Object(o.useEffect)((function(){var e=function(e){"TODOS_V1"===e.key&&c(!0)};return window.addEventListener("storage",e),function(){return window.removeEventListener("storage",e)}}),[]),{show:r,toggleShow:function(){e(),c(!1)}}};n(25);var T=function(e){var t=e.sincronize,n=g(t),o=n.show,r=n.toggleShow;return o?Object(a.jsx)("div",{className:"ChangeAlert-bg",children:Object(a.jsxs)("div",{className:"ChangeAlert",children:[Object(a.jsx)("p",{children:"Parece que cambiaste tus ToDo's en otra pesta\xf1a o ventana del navegador."}),Object(a.jsx)("p",{children:"\xbfQuieres sincronizar tus ToDo's?"}),Object(a.jsx)("button",{onClick:r,children:"Volver a cargar la informaci\xf3n"})]})}):null},S=n(8),y=n(4),I=n(3);function N(e,t){var n=Object(o.useReducer)(z,C({initialValue:t})),r=Object(O.a)(n,2),c=r[0],a=r[1],s=c.sincronizedItem,i=c.error,d=c.loading,l=c.item,u=function(e){return a({type:E.error,payload:e})};Object(o.useEffect)((function(){setTimeout((function(){try{var n,o=localStorage.getItem(e);o?n=JSON.parse(o):(localStorage.setItem(e,JSON.stringify(t)),n=t),function(e){a({type:E.success,payload:e})}(n)}catch(i){u(i)}}),1e3)}),[s]);return{item:l,saveItem:function(t){try{var n=JSON.stringify(t);localStorage.setItem(e,n),function(e){a({type:E.save,payload:e})}(t)}catch(i){u(i)}},loading:d,error:i,sincronizeItem:function(){a({type:E.sincronize})}}}var C=function(e){return{sincronizedItem:!0,error:!1,loading:!0,item:e.initialValue}},E={error:"ERROR",success:"SUCCESS",save:"SAVE",sincronize:"SINCRONIZE"},z=function(e,t){return function(e,t){var n;return n={},Object(y.a)(n,E.error,Object(I.a)(Object(I.a)({},e),{},{error:!0})),Object(y.a)(n,E.success,Object(I.a)(Object(I.a)({},e),{},{error:!1,loading:!1,sincronizedItem:!0,item:t})),Object(y.a)(n,E.save,Object(I.a)(Object(I.a)({},e),{},{item:t})),Object(y.a)(n,E.sincronize,Object(I.a)(Object(I.a)({},e),{},{sincronizedItem:!1,loading:!0})),n}(e,t.payload)[t.type]||e};var V=function(){var e=N("TODOS_V1",[]),t=e.item,n=e.saveItem,r=e.sincronizeItem,c=e.loading,a=e.error,s=N("USER_V1",""),i=s.item,d=s.saveItem,l=s.loading,u=Object(o.useState)(""),j=Object(O.a)(u,2),b=j[0],m=j[1],h=Object(o.useState)(!1),f=Object(O.a)(h,2),p=f[0],x=f[1],v=t.length,g=t.filter((function(e){return e.completed})).length,T=t.filter((function(e){return e.text.toLowerCase().includes(b.toLocaleLowerCase())}));return Object(o.useEffect)((function(){return!l&&!i&&x(!0)}),[]),{error:a,loading:c,totalTodos:v,completedTodos:g,searchValue:b,setSearchValue:m,searchedTodos:T,openModal:p,setOpenModal:x,addTodo:function(e){var o=Object(S.a)(t);o.push({completed:!1,text:e,id:Math.random().toString(35).substr(2,13)}),n(o)},completeTodo:function(e){var o=t.findIndex((function(t){return t.id===e})),r=Object(S.a)(t);r[o].completed=!r[o].completed,n(r)},deleteTodo:function(e){var o=t.findIndex((function(t){return t.id===e})),r=Object(S.a)(t);r.splice(o,1),n(r)},user:i,addUser:function(e){d(e)},sincronizeTodos:r}};var _=function(){var e=V(),t=e.error,n=e.loading,o=e.totalTodos,r=e.completedTodos,c=e.searchValue,O=e.setSearchValue,g=e.searchedTodos,S=e.completeTodo,y=e.deleteTodo,I=e.openModal,N=e.setOpenModal,C=e.user,E=e.addUser,z=e.addTodo,_=e.sincronizeTodos;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(s,{}),Object(a.jsx)(i,{totalTodos:o,completedTodos:r,user:C,loading:n}),Object(a.jsx)(d,{searchValue:c,setSearchValue:O,loading:n}),Object(a.jsx)(l,{error:t,loading:n,totalTodos:o,searchedTodos:g,onError:function(){return Object(a.jsx)(f,{})},onLoading:function(){return Object(a.jsx)(p,{})},onEmptyTodos:function(){return Object(a.jsx)(x,{})},onEmptySearchResults:function(){return Object(a.jsx)(v,{searchText:c})},render:function(e){return Object(a.jsx)(u,{text:e.text,completed:e.completed,onComplete:function(){return S(e.id)},onDelete:function(){return y(e.id)}},e.id)}}),Object(a.jsx)(j,{setOpenModal:N}),!n&&!C&&I&&Object(a.jsx)(b,{children:Object(a.jsx)(h,{setOpenModal:N,addUser:E})}),C&&I&&Object(a.jsx)(b,{children:Object(a.jsx)(m,{setOpenModal:N,addTodo:z})}),Object(a.jsx)(T,{sincronize:_})]})};n(26);c.a.render(Object(a.jsx)(_,{}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.b33ba695.chunk.js.map